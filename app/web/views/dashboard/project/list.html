{%extends '../../common/layout.html'%}

{%block center_column%}
<div class="row-fluid">
    <div class="col-lg-12">
        <legend>
            Projects
            <div class="btn-group pull-right">
                <a href="/dashboard/account/{{account.username}}/project/create" class="btn btn-success btn-xs">
                    <span class="glyphicon glyphicon-plus"></span>
                    New project
                </a>
            </div>
        </legend>
    </div>
</div>
<div class="row-fluid">
    <div class="col-lg-12">
{%if projects.length > 0%}
        <table class="table table-hover table-striped">
            <thead>
            <tr>
                <th>
                    Id
                </th>
                <th>
                    Name
                </th>
                <th>
                    Container
                </th>
                <th>
                    Actions
                </th>
            </tr>
            </thead>
            <tbody>
            {% for project in projects%}
            <tr>
                <td>
                    <div>{{project.id}}</div>
                </td>
                <td width="100%">
                    <a href="/dashboard/account/{{account.username}}/project/{{project.id}}">
                        {{project.name}}
                    </a>

                    <div>
                        <small class="text-muted">{{project.repo_url}}</small>
                    </div>
                </td>
                <td class="vert-align">
                    {{project.container.name}}
                </td>
                <td class="vert-align">
                    <form method="post" action="/dashboard/account/{{account.username}}/project/{{project.id}}/build">
                        <div class="btn-group-nowrap">

                            <button class="btn btn-xs btn-primary">
                                <span class="glyphicon glyphicon-flash"></span>
                                Build
                            </button>
                            <a class="btn btn-info btn-xs"
                               href="/dashboard/account/{{account.username}}/project/{{project.id}}/build"><span
                                    class="glyphicon glyphicon-time"></span></a>
                            <a class="btn btn-info btn-xs"
                               href="/dashboard/account/{{account.username}}/project/{{project.id}}/edit"><i
                                    class="glyphicon glyphicon-pencil"></i></a>
                            <a class="btn btn-danger btn-xs"
                               href="/dashboard/account/{{account.username}}/project/{{project.id}}/delete"><i
                                    class="glyphicon glyphicon-trash"></i></a>
                        </div>
                    </form>
                </td>
            </tr>
            {%endfor%}
            </tbody>
        </table>
        {%else%}
        <div class="alert alert-block">
            No entries yet
        </div>
        {%endif%}
    </div>
</div>
{%endblock%}